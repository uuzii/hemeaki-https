<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">

<link rel="import" href="hemeaki-list.html">
<link rel="import" href="hemeaki-contact.html">
<link rel="import" href="hemeaki-add.html">

<dom-module id="hemeaki-panel">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
            }

            @media screen and (max-width: 600px) {
                :host {
                    min-height: calc(100vh - 106px);
                }
            }

            :root {
                /* Set custom property (variables) */
                --paper-tabs-selection-bar-color: #E8172B;
                /* Set mixin */
                --paper-tabs: {
                    background: white;
                    color: #E8172B;
                } 
             }

             .sup-nav-mobile {
                padding: 1em 10px;
                text-align: center;
            }

            .nav-icons-mobile {
                width: 23%;
                display: inline-block;
                text-align: center;
            }

            .icons-mobile {
                color: #666;
            }
        </style>

        <app-localstorage-document key="userData" data="{{storedUser}}"></app-localstorage-document>

        <div class="container">

            <template is="dom-if" if="[[storedUser.loggedin]]">
                <paper-tabs attr-for-selected="name" selected="{{seleccionado}}" no-slide>
                    <paper-tab name="anunciantes">Anunciantes</paper-tab>
                    <paper-tab name="agregar">Añadir</paper-tab>
                    <paper-tab name="contacto">Contacto</paper-tab>
                </paper-tabs>
            
                <iron-pages attr-for-selected="name" selected="{{seleccionado}}" fallback-selection="anunciantes">
                    <hemeaki-list name="anunciantes" loading="{{loading}}"></hemeaki-list>
                    <hemeaki-add name="agregar" loading="{{loading}}"></hemeaki-add>
                    <hemeaki-contact name="contacto" loading="{{loading}}"></hemeaki-contact>
                </iron-pages>
            </template>
            
            
            <template is="dom-if" if="[[!storedUser.loggedin]]">

                <p>Debes <a style="color: #E8172B" href="/admin">iniciar sesión</a> para acceder al panel de administrador</p>

            </template>

        </div>

    </template>

    <script>
        /**
         * `hemeaki-panel` Description
         *
         * @summary ShortDescription.
         * @customElement
         * @polymer
         * @extends {Polymer.Element}
         */
        class HemeakiPanel extends Polymer.Element {
            /**
             * String providing the tag name to register the element under.
             */
            static get is() {
                return 'hemeaki-panel';
            }

            /**
             * Object describing property-related metadata used by Polymer features
             */
            static get properties() {
                return {
                    
                };
            }

            /**
             * Instance of the element is created/upgraded. Use: initializing state,
             * set up event listeners, create shadow dom.
             * @constructor
             */
            constructor() {
                super();
            }

            /**
             * Use for one-time configuration of your component after local DOM is initialized. 
             */
            ready() {
                super.ready();

                Polymer.RenderStatus.afterNextRender(this, function() {
                    
                });
            }

        }

        window.customElements.define(HemeakiPanel.is, HemeakiPanel);
    </script>
</dom-module>